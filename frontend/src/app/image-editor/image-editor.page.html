<div class="">
  <div class="flex flex-row gap-4 relative items-center h-[100px] w-full bg-mocha p-5 rounded-b-3xl">
    <div class="controls flex gap-4 absolute">

      <div class="relative w-[50px] h-[50px] p-1 rounded-full bg-[conic-gradient(red,orange,yellow,green,blue,indigo,violet,red)]">
        <div class="w-full h-full bg-white rounded-full p-1">
          <label
            for="col-pick"
            class="w-full h-full overflow-hidden rounded-full flex justify-center items-center"
            [ngStyle]="{ 'background-color': drawColor }">
          </label>
        </div>
      </div>
      <input type="color" class="w-[60px] h-[60px] rounded-full border-none hidden" id="col-pick" [(ngModel)]="drawColor">


      <!--      <div class="">-->
<!--        <input type="range" min="1" max="50" [(ngModel)]="brushSize">-->
<!--      </div>-->
      <div (click)="saveImage()" class="bg-white border border-primary rounded-full w-[50px] h-[50px] flex justify-center items-center">
        <ion-icon name="checkmark-outline" size="large" class="text-primary"></ion-icon>
      </div>
<!--      <button (click)="saveImage()">Save</button>-->
<!--      <label for="file" class=" border border-white bg-primary rounded-full w-[50px] h-[50px] flex justify-center items-center">-->
<!--        <ion-icon name="cloud-upload-outline" size="large" class="text-white"></ion-icon>-->
<!--      </label>-->
<!--      <input type="file" class="hidden" id="file" (change)="loadImage($event)" accept="image/*">-->
    </div>
  </div>
  <div class="flex items-center space-x-3 w-full p-4">
    <app-kapi modelPath="../../assets/kapi/kapi_4.glb"></app-kapi>
    <div class="flex flex-col gap-2">
      <div
        class="bg-[#BB745840] text-[#605F4B] text-sm p-3 rounded-t-lg rounded-br-lg relative w-3/4"
      >
        Tu vas modifier la photo de {{ photoInfo?.userId?.username }} !
      </div>
      <div
        class="bg-[#BB745840] text-sm text-[#605F4B] p-3 rounded-b-lg rounded-tr-lg relative w-3/4"
      >
        {{ prompt }}

      </div>

    </div>
  </div>
  <div class=" w-full h-[70vh] overflow-hidden mt-5 p-4">
    <canvas #canvas width="400" height="600" class="rounded-3xl bg-gray-50"
            (mousedown)="startDrawing($event)"
            (mousemove)="draw($event)"
            (mouseup)="stopDrawing()"
            (mouseleave)="stopDrawing()"
            (touchstart)="startDrawing($event)"
            (touchmove)="draw($event)"
            (touchend)="stopDrawing()"
    >
    </canvas>
  </div>
</div>



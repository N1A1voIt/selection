<div class="w-full h-[100vh] relative pb-24 overflow-scroll">
  <div class="flex flex-row gap-4 relative items-center h-[100px] w-full bg-mocha p-5 rounded-b-3xl">
    <div class="monospace w-full">
      <input
        [(ngModel)]="searchQuery"
        (input)="filterUsers()"
        placeholder="Search for your friends"
        class="border border-gray-100 rounded-3xl text-black text-sm focus:ring-white focus:border-white block w-full px-5 py-3 dark:focus:ring-white dark:focus:border-white outline-none bg-white"
      />
    </div>
    <div (click)="showButtons=!showButtons">
      <ion-icon name="add-circle-outline" size="large" class="text-white"></ion-icon>
    </div>
  </div>
  <div class="flex flex-col w-full p-2 px-4 mt-10 gap-5">
    <div class="grid grid-cols-6 justify-center items-center w-full gap-5" *ngFor="let u of filteredUsers">
      <div class="col-span-5 flex gap-5 items-center ">
        <div class="rounded-full w-[60px] h-[60px]  flex-shrink-0 min-w-[60px] overflow-hidden border-4 border-mocha">
          <img src="/assets/imgs/kapi.png" alt="">
          <!-- <img src="{{u.photo}}" alt=""> -->
        </div>
        <div class="flex-grow flex flex-col justify-start">
        <span class="font-custom text-xl truncate max-w-[200px] lg:max-w-[300px]"
              style="letter-spacing: 2px"
              title="{{ u.username }}">
          {{ u.username }}
        </span>
          <span class="text-lg truncate max-w-[200px] lg:max-w-[300px]"
                title="{{ u.email }}">
          {{ u.email }}
        </span>
        </div>
      </div>
      <div class="col-span-1">
        <ion-icon
          [ngClass]="{
            'text-mocha': showButtons && !u.selected,
            'text-gray-200': !showButtons,
            'text-green-500': u.selected && showButtons
          }"
          (click)="toggleSelection(u)"
          name="add-circle-outline"
          size="large">
        </ion-icon>

      </div>
    </div>
  </div>

  <div class="h-[100px] w-full p-4 mt-6 flex justify-center items-center gap-4 rounded-t-3xl" *ngIf="showButtons">
    <div class="flex-grow h-full">
      <input
        type="text"
        class="w-full h-full rounded-full border border-mocha focus:outline-none focus:ring-0 outline-none p-3"
        id="receive"
        step="0.1"
        [(ngModel)]="groupName"
        placeholder="Le nom du groupe"
      />
    </div>
    <div class="w-[50px] h-[50px] bg-white rounded-full flex items-center justify-center rotate-180" (click)="createGroup()">
      <ion-icon name="arrow-back" size="large" class="text-mocha"></ion-icon>
    </div>
  </div>

</div>
